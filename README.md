# Formulario de ActualizaciÃ³n de Afiliados - Jardines del Renacer

Este proyecto es una aplicaciÃ³n web de pÃ¡gina Ãºnica (SPA) diseÃ±ada para que los afiliados de "Jardines del Renacer" actualicen su informaciÃ³n personal. La aplicaciÃ³n cuenta con un formulario dinÃ¡mico, validaciones en tiempo real y se integra con un backend serverless para almacenar los datos de forma segura.

AdemÃ¡s, incluye un carrusel de imÃ¡genes para promocionar la campaÃ±a "Actualizarte te premia".

## âœ¨ CaracterÃ­sticas Principales

*   **Formulario DinÃ¡mico:** Campos que aparecen condicionalmente segÃºn las respuestas del usuario (ej. campo de correo electrÃ³nico, fondo de pensiÃ³n).
*   **SelecciÃ³n de UbicaciÃ³n Interactiva:** MenÃºs desplegables para Departamentos y Ciudades de Colombia, donde las ciudades se actualizan segÃºn el departamento seleccionado.
*   **ValidaciÃ³n del Lado del Cliente:**
    *   ValidaciÃ³n de edad para asegurar que el usuario sea mayor de 18 aÃ±os.
    *   ValidaciÃ³n de formato y longitud para nÃºmeros de documento y telÃ©fono.
    *   Campos requeridos para garantizar la integridad de los datos.
*   **Backend Serverless:** Utiliza Netlify Functions para procesar el envÃ­o del formulario sin necesidad de gestionar un servidor tradicional.
*   **Persistencia de Datos:** Se integra con Supabase para almacenar de forma segura toda la informaciÃ³n enviada.
*   **DiseÃ±o Responsivo:** Interfaz adaptable a dispositivos mÃ³viles, tabletas y computadoras de escritorio.
*   **Componentes de UI Modernos:**
    *   **Carrusel de Premios:** Un carrusel con bucle infinito y auto-desplazamiento para mostrar los premios de la campaÃ±a.
    *   **Pop-up de Bienvenida:** Un pequeÃ±o modal no intrusivo que da la bienvenida al usuario.
    *   **Modal de Estado:** Notificaciones claras de Ã©xito o error tras el envÃ­o del formulario.
    *   **Selector de Fechas:** Implementado con la librerÃ­a `flatpickr` para una mejor experiencia de usuario.

## ğŸ› ï¸ TecnologÃ­as Utilizadas

*   **Frontend:** HTML5, CSS3, JavaScript (ES6+)
*   **Backend:** Node.js (a travÃ©s de Vercel Serverless Functions)
*   **Base de Datos:** Supabase
*   **LibrerÃ­as:**
    *   Flatpickr.js: Para los selectores de fecha.
    *   Font Awesome: Para los iconos.


## ğŸš€ InstalaciÃ³n y Puesta en Marcha Local

Para ejecutar este proyecto en tu mÃ¡quina local, sigue estos pasos:

### Prerrequisitos

*   Node.js (versiÃ³n 18.x o superior)
*   Vercel CLI: `npm install -g vercel`

### 2. Configurar Supabase

1.  Ve a tu panel de control de Supabase y crea un nuevo proyecto.
2.  Dentro de tu proyecto, ve al **SQL Editor** y ejecuta el siguiente script para crear la tabla `registros_formulario`.

    ```sql
    CREATE TABLE registros_formulario (
        id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        created_at TIMESTAMPTZ DEFAULT NOW(),
        nombre TEXT,
        tipo_documento TEXT,
        numero_documento TEXT,
        fecha_expedicion DATE,
        fecha_nacimiento DATE,
        departamento TEXT,
        ciudad TEXT,
        direccion TEXT,
        telefono_principal TEXT,
        telefono_familiar TEXT,
        tiene_correo TEXT,
        correo TEXT,
        estado_civil TEXT,
        ocupacion TEXT,
        recibe_pension TEXT,
        fondo_pension TEXT,
        familia_extranjero TEXT,
        mascota TEXT,
        privacidad BOOLEAN
    );
    ```

3.  Ve a **Project Settings > API**. Copia la **Project URL** y la clave **`anon` `public`**.

### 3. Configurar Variables de Entorno

1.  En la raÃ­z del proyecto, crea un archivo llamado `.env`.
2.  AÃ±ade las claves que copiaste de Supabase. Estas serÃ¡n utilizadas por la funciÃ³n de Netlify.

    ```
    SUPABASE_URL=TU_PROJECT_URL_DE_SUPABASE
    SUPABASE_ANON_KEY=TU_CLAVE_ANON_PUBLIC_DE_SUPABASE
    SUPABASE_SERVICE_ROLE_KEY=TU_SERVICE_ROLE_KEY_SOLO_BACKEND
    ```

### 4. Instalar Dependencias y Ejecutar

1.  Para que la funciÃ³n de Netlify funcione, necesita su dependencia. Crea un archivo `package.json` en la raÃ­z del proyecto si no existe, y luego instala el cliente de Supabase.

    ```bash
    npm init -y
    npm install @supabase/supabase-js
    ```

2.  Inicia el servidor de desarrollo local de Netlify, que servirÃ¡ los archivos estÃ¡ticos y la funciÃ³n serverless:

    ```bash
    netlify dev
    ```

3.  Abre tu navegador en la direcciÃ³n que te indique la terminal (normalmente `http://localhost:8888`). Â¡Y listo!

## ğŸ“‚ Estructura del Proyecto

```
.
â”œâ”€â”€ /Logos_2025/           # ImÃ¡genes y logos utilizados en la pÃ¡gina
â”œâ”€â”€ /netlify/
â”‚   â””â”€â”€ /functions/
â”‚       â””â”€â”€ submit-form.js # FunciÃ³n serverless para manejar el envÃ­o del formulario
â”œâ”€â”€ index.html             # Estructura principal de la pÃ¡gina
â”œâ”€â”€ script.js              # LÃ³gica del frontend (validaciones, carrusel, etc.)
â”œâ”€â”€ style_58.css           # Estilos de la pÃ¡gina
â””â”€â”€ README.md              # Este archivo
```

## âœï¸ Autor

*   **Juan Monsalve** - GitHub
