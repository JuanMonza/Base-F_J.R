# Formulario de Actualización de Afiliados - Jardines del Renacer

Este proyecto es una aplicación web de página única (SPA) diseñada para que los afiliados de "Jardines del Renacer" actualicen su información personal. La aplicación cuenta con un formulario dinámico, validaciones en tiempo real y se integra con un backend serverless para almacenar los datos de forma segura.

Además, incluye un carrusel de imágenes para promocionar la campaña "Actualizarte te premia".

## ✨ Características Principales

*   **Formulario Dinámico:** Campos que aparecen condicionalmente según las respuestas del usuario (ej. campo de correo electrónico, fondo de pensión).
*   **Selección de Ubicación Interactiva:** Menús desplegables para Departamentos y Ciudades de Colombia, donde las ciudades se actualizan según el departamento seleccionado.
*   **Validación del Lado del Cliente:**
    *   Validación de edad para asegurar que el usuario sea mayor de 18 años.
    *   Validación de formato y longitud para números de documento y teléfono.
    *   Campos requeridos para garantizar la integridad de los datos.
*   **Backend Serverless:** Utiliza Netlify Functions para procesar el envío del formulario sin necesidad de gestionar un servidor tradicional.
*   **Persistencia de Datos:** Se integra con Supabase para almacenar de forma segura toda la información enviada.
*   **Diseño Responsivo:** Interfaz adaptable a dispositivos móviles, tabletas y computadoras de escritorio.
*   **Componentes de UI Modernos:**
    *   **Carrusel de Premios:** Un carrusel con bucle infinito y auto-desplazamiento para mostrar los premios de la campaña.
    *   **Pop-up de Bienvenida:** Un pequeño modal no intrusivo que da la bienvenida al usuario.
    *   **Modal de Estado:** Notificaciones claras de éxito o error tras el envío del formulario.
    *   **Selector de Fechas:** Implementado con la librería `flatpickr` para una mejor experiencia de usuario.

## 🛠️ Tecnologías Utilizadas

*   **Frontend:** HTML5, CSS3, JavaScript (ES6+)
*   **Backend:** Node.js (a través de Netlify Functions)
*   **Base de Datos:** Supabase
*   **Librerías:**
    *   Flatpickr.js: Para los selectores de fecha.
    *   Font Awesome: Para los iconos.
*   **Alojamiento:** Netlify

## 🚀 Instalación y Puesta en Marcha Local

Para ejecutar este proyecto en tu máquina local, sigue estos pasos:

### Prerrequisitos

*   Node.js (versión 18.x o superior)
*   Netlify CLI: `npm install netlify-cli -g`
*   Una cuenta gratuita en Supabase.

### 1. Clonar el Repositorio

```bash
git clone https://github.com/JuanMonza/Base-F_J.R
cd  Base-F_J.R
```

### 2. Configurar Supabase

1.  Ve a tu panel de control de Supabase y crea un nuevo proyecto.
2.  Dentro de tu proyecto, ve al **SQL Editor** y ejecuta el siguiente script para crear la tabla `registros_formulario`.

    ```sql
    CREATE TABLE registros_formulario (
        id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
        created_at TIMESTAMPTZ DEFAULT NOW(),
        nombre TEXT,
        tipo_documento TEXT,
        numero_documento TEXT,
        fecha_expedicion DATE,
        fecha_nacimiento DATE,
        departamento TEXT,
        ciudad TEXT,
        direccion TEXT,
        telefono_principal TEXT,
        telefono_familiar TEXT,
        tiene_correo TEXT,
        correo TEXT,
        estado_civil TEXT,
        ocupacion TEXT,
        recibe_pension TEXT,
        fondo_pension TEXT,
        familia_extranjero TEXT,
        mascota TEXT,
        privacidad BOOLEAN
    );
    ```

3.  Ve a **Project Settings > API**. Copia la **Project URL** y la clave **`anon` `public`**.

### 3. Configurar Variables de Entorno

1.  En la raíz del proyecto, crea un archivo llamado `.env`.
2.  Añade las claves que copiaste de Supabase. Estas serán utilizadas por la función de Netlify.

    ```
    SUPABASE_URL=TU_PROJECT_URL_DE_SUPABASE
    SUPABASE_ANON_KEY=TU_CLAVE_ANON_PUBLIC_DE_SUPABASE
    ```

### 4. Instalar Dependencias y Ejecutar

1.  Para que la función de Netlify funcione, necesita su dependencia. Crea un archivo `package.json` en la raíz del proyecto si no existe, y luego instala el cliente de Supabase.

    ```bash
    npm init -y
    npm install @supabase/supabase-js
    ```

2.  Inicia el servidor de desarrollo local de Netlify, que servirá los archivos estáticos y la función serverless:

    ```bash
    netlify dev
    ```

3.  Abre tu navegador en la dirección que te indique la terminal (normalmente `http://localhost:8888`). ¡Y listo!

## 📂 Estructura del Proyecto

```
.
├── /Logos_2025/           # Imágenes y logos utilizados en la página
├── /netlify/
│   └── /functions/
│       └── submit-form.js # Función serverless para manejar el envío del formulario
├── index.html             # Estructura principal de la página
├── script.js              # Lógica del frontend (validaciones, carrusel, etc.)
├── style_58.css           # Estilos de la página
└── README.md              # Este archivo
```

## ✍️ Autor

*   **Juan Monsalve** - GitHub